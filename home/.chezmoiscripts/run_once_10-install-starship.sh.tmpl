#!/usr/bin/env bash
# chezmoi:template:left-delimiter="# {{" right-delimiter="}}"
# {{ if not (index . "installStarship" | default false) }}
exit 0
# {{ end }}
#
# Install Starship prompt
#
# Version: 1.0.0

set -euo pipefail

echo "==> Installing Starship prompt..."

# {{- if eq .chezmoi.os "darwin" }}

if command -v brew &>/dev/null; then
    brew install starship
else
    curl -sS https://starship.rs/install.sh | sh -s -- -y
fi

# {{- else if eq .chezmoi.os "linux" }}

curl -sS https://starship.rs/install.sh | sh -s -- -y

# {{- end }}

if command -v starship &>/dev/null; then
    echo "✅ Starship installed: $(starship --version)"
else
    echo "⚠️  Starship installation may have failed"
fi
